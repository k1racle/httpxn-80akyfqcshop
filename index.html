<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
        (function(m,e,t,r,i,k,a){
            m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
            m[i].l=1*new Date();
            for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
            k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
        })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=106421525', 'ym');
        ym(106421525, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", referrer: document.referrer, url: location.href, accurateTrackBounce:true, trackLinks:true});
    </script>
    <!-- /Yandex.Metrika counter -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/favicon.jpg" type="image/jpeg" />
    <title>Патент.Shop — Маркетплейс интеллектуальной собственности</title>
    <meta name="description" content="Покупайте и продавайте патенты, товарные знаки, ПО и другие объекты ИС с проверенной документацией." />
    <meta name="keywords" content="патенты, интеллектуальная собственность, товарные знаки, лицензии" />

    <meta property="og:title" content="Патент.Шоп — Маркетплейс интеллектуальной собственности" />
    <meta property="og:description" content="Покупайте и продавайте патенты, товарные знаки, ПО и другие объекты ИС." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://httpxn-80akyfqcshop.lovable.app/og-image.jpg" />
    <meta property="og:url" content="https://httpxn-80akyfqcshop.lovable.app" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@PatentShop" />
    <meta name="twitter:image" content="https://httpxn-80akyfqcshop.lovable.app/og-image.jpg" />
  </head>

  <body>
    <!-- Yandex.Metrika noscript -->
    <noscript><div><img src="https://mc.yandex.ru/watch/106421525" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- SEO: динамическое обновление title и meta по URL -->
    <script>
      function updateSEO(title, description) {
        document.title = title;
        let metaDesc = document.querySelector('meta[name="description"]');
        if (!metaDesc) {
          metaDesc = document.createElement('meta');
          metaDesc.name = 'description';
          document.head.appendChild(metaDesc);
        }
        metaDesc.content = description;
        
        const ogTitle = document.querySelector('meta[property="og:title"]') || document.createElement('meta');
        ogTitle.setAttribute('property', 'og:title');
        ogTitle.content = title;
        if (!document.querySelector('meta[property="og:title"]')) document.head.appendChild(ogTitle);
        
        const ogDesc = document.querySelector('meta[property="og:description"]') || document.createElement('meta');
        ogDesc.setAttribute('property', 'og:description');
        ogDesc.content = description;
        if (!document.querySelector('meta[property="og:description"]')) document.head.appendChild(ogDesc);
      }

      window.addEventListener('popstate', updateSeoByPath);
      const originalPushState = history.pushState;
      history.pushState = function() {
        originalPushState.apply(this, arguments);
        updateSeoByPath();
      };

      function updateSeoByPath() {
        const path = window.location.pathname;
        if (path === '/' || path === '') {
          updateSEO(
            'Патент.Шоп — Маркетплейс патентов, товарных знаков и ПО в России и СНГ',
            'Национальная платформа для покупки и продажи интеллектуальной собственности: патенты, товарные знаки, ПО, базы данных. Юридическая проверка, гарантия сделок.'
          );
        } else if (path === '/catalog') {
          updateSEO(
            'Каталог ИС — 500+ объектов | Патент.Шоп',
            'Купить патенты, товарные знаки, ПО. 505+ объектов с проверкой. Поиск, фильтры, безопасные сделки.'
          );
        } else if (path === '/sell') {
          updateSEO(
            'Разместить объект ИС на продажу — Патент.Шоп',
            'Бесплатно разместите патент, товарный знак или ПО. Форма с AI-генерацией описания, загрузка документов, публикация после проверки.'
          );
        } else if (path === '/request') {
          updateSEO(
            'Оставить заявку на поиск объекта ИС — Патент.Шоп',
            'Подберём патент, товарный знак или ПО по вашим требованиям. Форма поиска, юридическая экспертиза, быстрый результат.'
          );
        } else if (path === '/legal/offer') {
          updateSEO(
            'Публичная оферта — Патент.Шоп',
            'Условия использования платформы: размещение, проверка и сделки с ИС.'
          );
        } else if (path === '/about') {
          updateSEO(
            'О платформе Патент.Шоп — Команда и миссия',
            'Узнайте о маркетплейсе интеллектуальной собственности: миссия, команда, гарантии безопасности сделок.'
          );
        } else if (path === '/auth') {
          updateSEO(
            'Вход и регистрация | Патент.Шоп',
            'Войдите или зарегистрируйтесь для доступа к покупке и продаже объектов ИС.'
          );
        } else if (path === '/dashboard') {
          updateSEO(
            'Личный кабинет | Патент.Шоп',
            'Управляйте объектами ИС, заявками и заказами.'
          );
        } else if (path.startsWith('/catalog/')) {
          updateSEO(
            'Объект ИС | Патент.Шоп',
            'Подробная информация об объекте интеллектуальной собственности.'
          );
        } else {
          updateSEO('Патент.Шоп — Интеллектуальная собственность', 'Маркетплейс ИС в России и СНГ');
        }
      }

      document.addEventListener('DOMContentLoaded', updateSeoByPath);
    </script>
  </body>
</html>
