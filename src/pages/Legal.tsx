import { useParams } from "react-router-dom";
import Layout from "@/components/layout/Layout";
import { FileText, Shield, Scale } from "lucide-react";

const legalContent = {
  offer: {
    title: "Публичная оферта",
    icon: FileText,
    sections: [
      {
        heading: "1. Общие положения",
        content: `1.1. Настоящая публичная оферта (далее — «Оферта») является официальным предложением платформы патент.shop (далее — «Платформа») заключить договор возмездного оказания услуг.
1.2. Акцепт Оферты осуществляется путём отправки формы размещения объекта ИС или формы заявки на приобретение.
1.3. Оферта регулирует отношения по размещению объектов интеллектуальной собственности (ИС), юридической проверке и содействию в совершении сделок.`,
      },
      {
        heading: "2. Предмет Оферты",
        content: `Платформа предоставляет следующие услуги:
— размещение объектов ИС в каталоге;
— юридическая проверка предоставленных документов;
— содействие в поиске продавцов и покупателей;
— обеспечение безопасного проведения сделки с временной фиксацией средств до подтверждения перехода прав;
— юридическое сопровождение оформления передачи прав.`,
      },
      {
        heading: "3. Условия сотрудничества",
        content: `3.1. Размер вознаграждения Платформы и порядок расчётов устанавливаются индивидуальным договором между Платформой и продавцом.
3.2. Все размещаемые объекты ИС проходят обязательную юридическую проверку.
3.3. Платформа не приобретает объекты ИС в собственность и не является стороной отчуждения прав.`,
      },
      {
        heading: "4. Порядок взаимодействия",
        content: `4.1. Продавец направляет объект ИС через форму на сайте патент.shop.
4.2. Платформа проводит юридическую проверку документов.
4.3. После подтверждения объект публикуется в каталоге.
4.4. Покупатель подает заявку на приобретение.
4.5. Средства покупателя фиксируются Платформой до момента подтверждения передачи прав.
4.6. После подтвержденного перехода прав средства перечисляются продавцу за вычетом вознаграждения Платформы.`,
      },
      {
        heading: "5. Ответственность сторон",
        content: `5.1. Платформа осуществляет проверку документов в пределах предоставленных данных и не несёт ответственности за скрытые обстоятельства, не отражённые в документах.
5.2. Продавец несёт полную ответственность за достоверность сведений и законность прав на объект ИС.
5.3. Покупатель обязуется использовать приобретённые права в соответствии с законодательством РФ.
5.4. Платформа не несёт ответственности за действия сторон после передачи прав.`,
      },
      {
        heading: "6. Персональные данные",
        content: `Обработка персональных данных пользователей осуществляется в соответствии с Политикой конфиденциальности патент.shop.`,
      },
      {
        heading: "7. Изменение условий Оферты",
        content: `Платформа вправе вносить изменения в Оферту. Новая редакция публикуется на сайте и вступает в силу с момента размещения.`,
      },
    ],
  },
  privacy: {
    title: "Политика конфиденциальности",
    icon: Shield,
    sections: [
      {
        heading: "1. Общие положения",
        content: `1.1. Настоящая Политика конфиденциальности (далее — Политика) регулирует порядок обработки и защиты персональных данных пользователей сайта патент.shop (далее — Сайт).
1.2. Оператором персональных данных является патент.shop (далее — Платформа).
1.3. Политика разработана в соответствии с требованиями Федерального закона №152-ФЗ «О персональных данных» и нормами гражданского законодательства РФ.`,
      },
      {
        heading: "2. Какие данные мы собираем",
        content: `2.1. Данные, предоставляемые пользователем:
— имя, фамилия;
— e-mail;
— телефон;
— сведения об объекте интеллектуальной собственности;
— документы (PDF, изображения, описания);
— комментарии.

2.2. Технические данные:
— cookies;
— IP-адрес;
— данные браузера;
— статистика посещений.

2.3. Данные, предоставленные при регистрации/входе.`,
      },
      {
        heading: "3. Цели обработки данных",
        content: `— регистрация пользователей;
— размещение объектов ИС;
— обработка заявок;
— юридическая проверка объектов;
— информирование о статусе сделок;
— исполнение договоров;
— аналитика и улучшение работы Сайта;
— выполнение требований законодательства.`,
      },
      {
        heading: "4. Правовые основания обработки",
        content: `— согласие пользователя;
— исполнение договора/оферты;
— законные интересы Платформы;
— требования законодательства РФ.`,
      },
      {
        heading: "5. Передача данных",
        content: `5.1. Данные могут передаваться:
— юридическим специалистам Платформы;
— платёжным сервисам (при операциях);
— государственным органам — по закону.

5.2. Без согласия пользователя данные третьим лицам не передаются, за исключением установленных случаев.`,
      },
      {
        heading: "6. Хранение и защита данных",
        content: `6.1. Применяются необходимые организационные и технические меры защиты.
6.2. Данные хранятся до достижения целей обработки или установленного законом срока.`,
      },
      {
        heading: "7. Права пользователя",
        content: `— получать информацию о своих данных;
— требовать уточнения, блокировки или удаления;
— отзывать согласие, если это допускает закон.`,
      },
      {
        heading: "8. Cookies и аналитика",
        content: `Сайт патент.shop может использовать Google Analytics, Yandex Metrika и технические cookies.
Пользователь вправе отключить cookies в браузере.`,
      },
      {
        heading: "9. Обновления Политики",
        content: `Платформа вправе вносить изменения без уведомления. Новая версия действует с момента публикации на патент.shop.`,
      },
      {
        heading: "10. Контакты Оператора",
        content: `E-mail: support@патент.shop`,
      },
    ],
  },
  terms: {
    title: "Условия передачи прав",
    icon: Scale,
    sections: [
      {
        heading: "1. Общие условия",
        content: `1.1. Передача исключительных прав на объекты интеллектуальной собственности осуществляется в соответствии с законодательством Российской Федерации, Гражданским кодексом РФ (часть IV) и настоящими Условиями.
1.2. Платформа патент.shop выступает посредником и гарантом расчётов между сторонами, обеспечивая безопасную процедуру сделки.
1.3. Платформа не является стороной договора отчуждения исключительных прав и не приобретает объекты ИС в собственность.`,
      },
      {
        heading: "2. Объекты передачи",
        content: `Через Платформу могут передаваться права на:
• товарные знаки и знаки обслуживания;
• патенты на изобретения, полезные модели и промышленные образцы;
• программы для ЭВМ и базы данных;
• авторские произведения;
• ноу-хау и коммерческую тайну.`,
      },
      {
        heading: "3. Процедура передачи",
        content: `3.1. Стороны согласовывают условия сделки при содействии Платформы.
3.2. Покупатель вносит средства на счёт Платформы, где они фиксируются до подтверждённого перехода прав.
3.3. Продавец передает документы и материалы, необходимые для оформления перехода прав, включая подписанные договоры и акты.
3.4. Платформа подтверждает получение документов и соблюдение условий сделки.
3.5. После подтверждения перехода прав (включая регистрацию в Роспатенте — если требуется законом) средства перечисляются продавцу.`,
      },
      {
        heading: "4. Оформление документов",
        content: `Переход прав оформляется:
• договором об отчуждении исключительного права или лицензионным договором;
• актом приёма-передачи материалов и документации;
• регистрацией договора в Роспатенте, если объект относится к категории регистрируемых (товарный знак, патент, программа для ЭВМ — по желанию сторон).

Платформа содействует в подготовке полного комплекта документов.
Платформа не несёт ответственности за правовые последствия, связанные с сокрытием продавцом информации.`,
      },
      {
        heading: "5. Гарантии и ответственность",
        content: `5.1. Продавец гарантирует:
• наличие исключительных прав на объект ИС;
• отсутствие обременений, ограничений и споров;
• достоверность представленных документов.

5.2. Платформа гарантирует:
• безопасное удержание средств до завершения сделки;
• юридическое сопровождение оформления договора.

5.3. Платформа не несёт ответственности за правовые последствия, связанные с сокрытием продавцом информации, отсутствием регистрации ранее совершённых сделок или спорами, возникшими после передачи прав.`,
      },
      {
        heading: "6. Разрешение споров",
        content: `Споры между продавцом и покупателем решаются путём переговоров. При невозможности урегулирования — в Арбитражном суде г. Москвы.

Платформа оказывает содействие в урегулировании разногласий, но не является стороной спора.`,
      },
    ],
  },
};

const Legal = () => {
  const { type } = useParams<{ type: string }>();
  const content = legalContent[type as keyof typeof legalContent] || legalContent.offer;
  const Icon = content.icon;

  return (
    <Layout>
      <section className="section-padding">
        <div className="container-narrow">
          {/* Header */}
          <div className="text-center mb-12">
            <div className="flex h-16 w-16 items-center justify-center rounded-2xl bg-accent mx-auto mb-6">
              <Icon className="h-8 w-8 text-primary" />
            </div>
            <h1 className="text-3xl sm:text-4xl font-bold mb-4">{content.title}</h1>
            <p className="text-muted-foreground">
              Последнее обновление: {new Date().toLocaleDateString('ru-RU', { day: 'numeric', month: 'long', year: 'numeric' })}
            </p>
          </div>

          {/* Content */}
          <div className="card-elevated p-6 sm:p-10">
            <div className="prose prose-sm max-w-none">
              {content.sections.map((section, index) => (
                <div key={index} className="mb-8 last:mb-0">
                  <h2 className="text-lg font-semibold mb-4 text-foreground">
                    {section.heading}
                  </h2>
                  <div className="text-muted-foreground whitespace-pre-line leading-relaxed">
                    {section.content}
                  </div>
                </div>
              ))}
            </div>
          </div>

          {/* Navigation */}
          <div className="mt-8 flex flex-wrap justify-center gap-4">
            {Object.entries(legalContent).map(([key, value]) => (
              <a
                key={key}
                href={`/legal/${key}`}
                className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${
                  type === key
                    ? "bg-primary text-primary-foreground"
                    : "bg-muted text-muted-foreground hover:bg-accent"
                }`}
              >
                {value.title}
              </a>
            ))}
          </div>
        </div>
      </section>
    </Layout>
  );
};

export default Legal;
