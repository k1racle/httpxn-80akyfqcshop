import { useParams } from "react-router-dom";
import Layout from "@/components/layout/Layout";
import { FileText, Shield, Scale } from "lucide-react";

const legalContent = {
  offer: {
    title: "Публичная оферта",
    icon: FileText,
    sections: [
      {
        heading: "1. Общие положения",
        content: `Настоящий документ является официальным предложением (публичной офертой) платформы патент.shop (далее — «Платформа») и содержит все существенные условия оказания услуг по размещению объектов интеллектуальной собственности и содействию в совершении сделок.

Платформа выступает гарантом сделки между продавцом и покупателем объектов интеллектуальной собственности, обеспечивая юридическую проверку и безопасность расчётов.`,
      },
      {
        heading: "2. Предмет оферты",
        content: `Платформа предоставляет следующие услуги:
• Размещение объектов интеллектуальной собственности в каталоге
• Юридическая проверка прав на объекты ИС
• Содействие в поиске покупателей/продавцов
• Гарантирование сделок с удержанием средств
• Юридическое сопровождение передачи прав`,
      },
      {
        heading: "3. Условия сотрудничества",
        content: `Условия сотрудничества, включая размер вознаграждения Платформы, определяются индивидуальным договором с каждым продавцом. 

Все объекты подлежат обязательной правовой проверке юристами Платформы перед публикацией в каталоге.`,
      },
      {
        heading: "4. Порядок совершения сделок",
        content: `4.1. Продавец размещает объект ИС через форму на сайте
4.2. Платформа проводит юридическую экспертизу
4.3. После одобрения объект публикуется в каталоге
4.4. Покупатель подаёт заявку на приобретение
4.5. Средства фиксируются на счёте Платформы
4.6. После подтверждения передачи прав средства перечисляются продавцу`,
      },
      {
        heading: "5. Ответственность сторон",
        content: `Платформа гарантирует юридическую чистоту размещённых объектов в пределах проведённой экспертизы.

Продавец несёт полную ответственность за достоверность предоставленной информации и документов.

Покупатель обязуется использовать приобретённые права в соответствии с законодательством РФ.`,
      },
      {
        heading: "6. Заключительные положения",
        content: `Акцептом настоящей оферты является совершение действий по размещению объекта ИС или подаче заявки на приобретение через формы на сайте.

Платформа оставляет за собой право вносить изменения в условия оферты с уведомлением пользователей.`,
      },
    ],
  },
  privacy: {
    title: "Политика конфиденциальности",
    icon: Shield,
    sections: [
      {
        heading: "1. Общие положения",
        content: `1.1. Настоящая Политика конфиденциальности (далее — Политика) регулирует порядок обработки и защиты персональных данных пользователей сайта патент.shop (далее — Сайт).
1.2. Оператором персональных данных является патент.shop (далее — Платформа).
1.3. Политика разработана в соответствии с требованиями Федерального закона №152-ФЗ «О персональных данных» и нормами гражданского законодательства РФ.`,
      },
      {
        heading: "2. Какие данные мы собираем",
        content: `2.1. Данные, предоставляемые пользователем:
— имя, фамилия;
— e-mail;
— телефон;
— сведения об объекте интеллектуальной собственности;
— документы (PDF, изображения, описания);
— комментарии.

2.2. Технические данные:
— cookies;
— IP-адрес;
— данные браузера;
— статистика посещений.

2.3. Данные, предоставленные при регистрации/входе.`,
      },
      {
        heading: "3. Цели обработки данных",
        content: `— регистрация пользователей;
— размещение объектов ИС;
— обработка заявок;
— юридическая проверка объектов;
— информирование о статусе сделок;
— исполнение договоров;
— аналитика и улучшение работы Сайта;
— выполнение требований законодательства.`,
      },
      {
        heading: "4. Правовые основания обработки",
        content: `— согласие пользователя;
— исполнение договора/оферты;
— законные интересы Платформы;
— требования законодательства РФ.`,
      },
      {
        heading: "5. Передача данных",
        content: `5.1. Данные могут передаваться:
— юридическим специалистам Платформы;
— платёжным сервисам (при операциях);
— государственным органам — по закону.

5.2. Без согласия пользователя данные третьим лицам не передаются, за исключением установленных случаев.`,
      },
      {
        heading: "6. Хранение и защита данных",
        content: `6.1. Применяются необходимые организационные и технические меры защиты.
6.2. Данные хранятся до достижения целей обработки или установленного законом срока.`,
      },
      {
        heading: "7. Права пользователя",
        content: `— получать информацию о своих данных;
— требовать уточнения, блокировки или удаления;
— отзывать согласие, если это допускает закон.`,
      },
      {
        heading: "8. Cookies и аналитика",
        content: `Сайт патент.shop может использовать Google Analytics, Yandex Metrika и технические cookies.
Пользователь вправе отключить cookies в браузере.`,
      },
      {
        heading: "9. Обновления Политики",
        content: `Платформа вправе вносить изменения без уведомления. Новая версия действует с момента публикации на патент.shop.`,
      },
      {
        heading: "10. Контакты Оператора",
        content: `E-mail: support@патент.shop`,
      },
    ],
  },
  terms: {
    title: "Условия передачи прав",
    icon: Scale,
    sections: [
      {
        heading: "1. Общие условия",
        content: `Передача исключительных прав на объекты интеллектуальной собственности осуществляется в соответствии с законодательством Российской Федерации и настоящими Условиями.

Платформа выступает посредником и гарантом сделки, обеспечивая безопасность расчётов.`,
      },
      {
        heading: "2. Объекты передачи",
        content: `Через Платформу могут передаваться права на:
• Товарные знаки и знаки обслуживания
• Патенты на изобретения, полезные модели, промышленные образцы
• Программы для ЭВМ и базы данных
• Авторские произведения
• Ноу-хау и коммерческая тайна`,
      },
      {
        heading: "3. Процедура передачи",
        content: `3.1. Стороны согласовывают условия сделки при содействии Платформы
3.2. Покупатель вносит средства на счёт Платформы
3.3. Продавец передаёт права и документацию
3.4. Платформа подтверждает факт передачи
3.5. Средства перечисляются продавцу`,
      },
      {
        heading: "4. Оформление документов",
        content: `Передача прав оформляется:
• Договором об отчуждении исключительного права или лицензионным договором
• Актом приёма-передачи
• Регистрацией в Роспатенте (при необходимости)

Платформа содействует в подготовке всех необходимых документов.`,
      },
      {
        heading: "5. Гарантии",
        content: `Продавец гарантирует:
• Наличие всех прав на объект ИС
• Отсутствие обременений и споров
• Достоверность предоставленной информации

Платформа гарантирует:
• Безопасность расчётов
• Юридическое сопровождение сделки`,
      },
      {
        heading: "6. Разрешение споров",
        content: `Споры разрешаются путём переговоров. При невозможности достижения согласия — в Арбитражном суде г. Москвы.

Платформа содействует в урегулировании разногласий между сторонами сделки.`,
      },
    ],
  },
};

const Legal = () => {
  const { type } = useParams<{ type: string }>();
  const content = legalContent[type as keyof typeof legalContent] || legalContent.offer;
  const Icon = content.icon;

  return (
    <Layout>
      <section className="section-padding">
        <div className="container-narrow">
          {/* Header */}
          <div className="text-center mb-12">
            <div className="flex h-16 w-16 items-center justify-center rounded-2xl bg-accent mx-auto mb-6">
              <Icon className="h-8 w-8 text-primary" />
            </div>
            <h1 className="text-3xl sm:text-4xl font-bold mb-4">{content.title}</h1>
            <p className="text-muted-foreground">
              Последнее обновление: {new Date().toLocaleDateString('ru-RU', { day: 'numeric', month: 'long', year: 'numeric' })}
            </p>
          </div>

          {/* Content */}
          <div className="card-elevated p-6 sm:p-10">
            <div className="prose prose-sm max-w-none">
              {content.sections.map((section, index) => (
                <div key={index} className="mb-8 last:mb-0">
                  <h2 className="text-lg font-semibold mb-4 text-foreground">
                    {section.heading}
                  </h2>
                  <div className="text-muted-foreground whitespace-pre-line leading-relaxed">
                    {section.content}
                  </div>
                </div>
              ))}
            </div>
          </div>

          {/* Navigation */}
          <div className="mt-8 flex flex-wrap justify-center gap-4">
            {Object.entries(legalContent).map(([key, value]) => (
              <a
                key={key}
                href={`/legal/${key}`}
                className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${
                  type === key
                    ? "bg-primary text-primary-foreground"
                    : "bg-muted text-muted-foreground hover:bg-accent"
                }`}
              >
                {value.title}
              </a>
            ))}
          </div>
        </div>
      </section>
    </Layout>
  );
};

export default Legal;
