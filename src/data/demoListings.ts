// Demo listings generator for IP catalog
// All objects are demonstration-only and not available for transactions
// Total: 500 cards across 12 categories

export interface DemoDescription {
  purpose: string;
  architecture: string;
  application: string;
  legal_status: string;
}

export interface DemoListing {
  id: string;
  category: string;
  title: string;
  registration_number: string;
  price_rub: number;
  is_demo: true;
  status: "Ознакомительный";
  descriptionData: DemoDescription;
  categoryLabel: string;
  priceFormatted: string;
  views: number;
  // Legacy fields for compatibility with Listing interface
  name: string;
  description: string; // Flat string for card display
  price: number | null;
  price_negotiable: boolean;
  views_count: number;
  favorites_count: number;
  cart_count: number;
  demo_label: string;
  legal_status: string;
  can_buy: boolean;
  created_at: string;
  user_id: string;
}

// Category distribution (total: 500)
const categoryDistribution: Record<string, number> = {
  technological_packages: 40,
  ai_models: 40,
  software_and_code: 60,
  datasets: 40,
  patents: 60,
  databases: 40,
  know_how: 40,
  technical_specifications: 40,
  trademarks: 60,
  copyrights: 40,
  digital_twins: 20,
  rnd_prototypes: 20
};

// Category labels for UI
const categoryLabels: Record<string, string> = {
  technological_packages: "Технологические пакеты",
  ai_models: "Модели ИИ",
  software_and_code: "ПО и код",
  datasets: "Датасеты",
  patents: "Патенты",
  databases: "Базы данных",
  know_how: "Ноу-хау",
  technical_specifications: "Техспецификации",
  trademarks: "Товарные знаки",
  copyrights: "Авторские права",
  digital_twins: "Digital Twins",
  rnd_prototypes: "Прототипы R&D"
};

// Category code prefixes for registration numbers
const categoryCodes: Record<string, string> = {
  technological_packages: "TP",
  ai_models: "AI",
  software_and_code: "SW",
  datasets: "DS",
  patents: "PT",
  databases: "DB",
  know_how: "KH",
  technical_specifications: "TS",
  trademarks: "TM",
  copyrights: "CR",
  digital_twins: "DT",
  rnd_prototypes: "RD"
};

// Price ranges by category (in RUB)
const categoryPriceRanges: Record<string, { min: number; max: number }> = {
  technological_packages: { min: 2000000, max: 15000000 },
  ai_models: { min: 1500000, max: 12000000 },
  software_and_code: { min: 500000, max: 8000000 },
  datasets: { min: 300000, max: 5000000 },
  patents: { min: 1000000, max: 20000000 },
  databases: { min: 800000, max: 6000000 },
  know_how: { min: 500000, max: 10000000 },
  technical_specifications: { min: 200000, max: 3000000 },
  trademarks: { min: 100000, max: 5000000 },
  copyrights: { min: 50000, max: 2000000 },
  digital_twins: { min: 3000000, max: 25000000 },
  rnd_prototypes: { min: 2000000, max: 18000000 }
};

// Title templates by category
const titleTemplates: Record<string, string[]> = {
  technological_packages: [
    "Комплекс технических решений для автоматизации производственных процессов",
    "Технологический пакет управления промышленными системами",
    "Интегрированный комплекс обработки технологических данных",
    "Система автоматизированного контроля производственных циклов",
    "Технологический модуль оптимизации ресурсопотребления",
    "Комплекс решений для цифровизации технологических процессов",
    "Пакет технологий промышленной автоматизации",
    "Система интеграции производственных модулей",
    "Технологический комплекс мониторинга оборудования",
    "Пакет решений для управления технологическими линиями",
    "Комплекс автоматизации складских операций",
    "Технологический пакет контроля качества продукции",
    "Система управления энергетическими потоками",
    "Комплекс технических решений для логистики",
    "Пакет автоматизации сборочных процессов",
    "Технологический модуль диспетчеризации",
    "Комплекс решений для управления запасами",
    "Система технологического планирования",
    "Пакет интеграции производственных систем",
    "Комплекс автоматизации технического обслуживания"
  ],
  ai_models: [
    "Модель машинного обучения для анализа временных рядов",
    "Нейросетевая архитектура распознавания структурированных данных",
    "Алгоритм предиктивной аналитики производственных показателей",
    "Модель классификации текстовых документов",
    "Система машинного зрения для контроля качества",
    "Алгоритм оптимизации логистических маршрутов",
    "Модель прогнозирования спроса на основе исторических данных",
    "Нейросетевой модуль обработки естественного языка",
    "Алгоритм кластеризации клиентских сегментов",
    "Модель детекции аномалий в потоковых данных",
    "Система рекомендаций на основе коллаборативной фильтрации",
    "Алгоритм распознавания образов в видеопотоке",
    "Модель оценки кредитоспособности",
    "Нейросетевая система анализа медицинских изображений",
    "Алгоритм автоматической категоризации товаров",
    "Модель предсказания оттока клиентов",
    "Система автоматического реферирования текстов",
    "Алгоритм оптимизации ценообразования",
    "Модель семантического поиска",
    "Нейросетевой модуль генерации отчётов"
  ],
  software_and_code: [
    "Программный комплекс управления документооборотом",
    "Система автоматизации бизнес-процессов предприятия",
    "Программный модуль интеграции с внешними системами",
    "Платформа управления корпоративными данными",
    "Программное решение для электронного архива",
    "Система мониторинга IT-инфраструктуры",
    "Программный комплекс управления проектами",
    "Модуль автоматизации финансовой отчётности",
    "Система управления взаимоотношениями с клиентами",
    "Программная платформа электронной коммерции",
    "Комплекс автоматизации кадрового учёта",
    "Система управления складскими операциями",
    "Программный модуль бюджетирования",
    "Платформа корпоративного обучения",
    "Система управления сервисными заявками",
    "Программный комплекс контроля доступа",
    "Модуль интеграции платёжных систем",
    "Система автоматизации закупочной деятельности",
    "Программная платформа управления активами",
    "Комплекс мониторинга производственных показателей",
    "Система управления транспортной логистикой",
    "Программный модуль аналитической отчётности",
    "Платформа автоматизации маркетинговых кампаний",
    "Система управления качеством продукции",
    "Программный комплекс планирования ресурсов",
    "Модуль синхронизации корпоративных данных",
    "Система автоматизации договорной работы",
    "Программная платформа управления рисками",
    "Комплекс мониторинга сетевой безопасности",
    "Система управления жизненным циклом продукта"
  ],
  datasets: [
    "Набор данных для обучения моделей распознавания",
    "Структурированная выборка производственных показателей",
    "Датасет временных рядов финансовых инструментов",
    "Коллекция размеченных текстовых документов",
    "Набор данных для анализа потребительского поведения",
    "Выборка геопространственных данных",
    "Датасет изображений для задач классификации",
    "Структурированный набор медицинских записей",
    "Коллекция данных сенсорных измерений",
    "Выборка транзакционных данных",
    "Датасет для анализа социальных сетей",
    "Набор данных логистических операций",
    "Коллекция метеорологических наблюдений",
    "Выборка данных телеметрии оборудования",
    "Датасет для обучения языковых моделей",
    "Структурированный набор кадастровых данных",
    "Коллекция данных о дорожном движении",
    "Выборка энергопотребления объектов",
    "Датасет биометрических параметров",
    "Набор данных для анализа рынка недвижимости"
  ],
  patents: [
    "Способ обработки промышленных материалов",
    "Устройство для автоматизированного контроля параметров",
    "Метод оптимизации технологических процессов",
    "Система управления производственным оборудованием",
    "Способ повышения энергоэффективности установок",
    "Устройство мониторинга технического состояния",
    "Метод обработки структурированных данных",
    "Система автоматического регулирования",
    "Способ защиты информационных систем",
    "Устройство для измерения физических параметров",
    "Метод синтеза химических соединений",
    "Система беспроводной передачи данных",
    "Способ очистки промышленных стоков",
    "Устройство для обработки сигналов",
    "Метод диагностики технического состояния",
    "Система хранения и обработки информации",
    "Способ нанесения защитных покрытий",
    "Устройство для сортировки материалов",
    "Метод контроля качества продукции",
    "Система управления транспортными потоками",
    "Способ переработки вторичного сырья",
    "Устройство для термической обработки",
    "Метод прогнозирования технических параметров",
    "Система распределённых вычислений",
    "Способ формирования композитных материалов",
    "Устройство для автоматической калибровки",
    "Метод оптимизации энергопотребления",
    "Система идентификации объектов",
    "Способ обработки видеоинформации",
    "Устройство для контроля герметичности"
  ],
  databases: [
    "База данных технической документации предприятия",
    "Реестр нормативно-справочной информации",
    "База данных производственных показателей",
    "Каталог технологических регламентов",
    "База данных контрагентов и договоров",
    "Реестр кадастровой информации",
    "База данных научных публикаций",
    "Каталог технических стандартов",
    "База данных патентной информации",
    "Реестр сертификатов и лицензий",
    "База данных геологических изысканий",
    "Каталог промышленного оборудования",
    "База данных метрологических измерений",
    "Реестр объектов недвижимости",
    "База данных транспортных маршрутов",
    "Каталог строительных материалов",
    "База данных медицинских препаратов",
    "Реестр товарных позиций",
    "База данных климатических наблюдений",
    "Каталог образовательных программ"
  ],
  know_how: [
    "Методика оптимизации производственных процессов",
    "Технология повышения эффективности оборудования",
    "Регламент внедрения систем автоматизации",
    "Методика контроля качества продукции",
    "Технология обработки промышленных материалов",
    "Регламент технического обслуживания",
    "Методика расчёта производственных мощностей",
    "Технология снижения производственных потерь",
    "Регламент управления проектами",
    "Методика оценки технического состояния",
    "Технология переработки отходов производства",
    "Регламент обеспечения безопасности",
    "Методика планирования ресурсов",
    "Технология энергосбережения",
    "Регламент документационного обеспечения",
    "Методика аудита технических систем",
    "Технология восстановления оборудования",
    "Регламент управления качеством",
    "Методика оптимизации логистики",
    "Технология защиты информации"
  ],
  technical_specifications: [
    "Техническое задание на разработку информационной системы",
    "Спецификация программного интерфейса",
    "Технические требования к оборудованию",
    "Регламент интеграции систем",
    "Спецификация протокола обмена данными",
    "Техническое описание архитектуры системы",
    "Требования к информационной безопасности",
    "Спецификация аппаратного обеспечения",
    "Технический регламент эксплуатации",
    "Требования к производительности системы",
    "Спецификация пользовательского интерфейса",
    "Техническое описание базы данных",
    "Требования к отказоустойчивости",
    "Спецификация сетевой инфраструктуры",
    "Технический регламент резервирования",
    "Требования к масштабируемости",
    "Спецификация системы мониторинга",
    "Техническое описание модуля интеграции",
    "Требования к документированию",
    "Спецификация тестирования системы"
  ],
  trademarks: [
    "Товарный знак для продукции машиностроения",
    "Знак обслуживания транспортной компании",
    "Товарный знак пищевой продукции",
    "Знак обслуживания финансовой организации",
    "Товарный знак строительных материалов",
    "Знак обслуживания образовательного учреждения",
    "Товарный знак фармацевтической продукции",
    "Знак обслуживания телекоммуникационной компании",
    "Товарный знак электронной техники",
    "Знак обслуживания торговой сети",
    "Товарный знак химической продукции",
    "Знак обслуживания логистической компании",
    "Товарный знак текстильных изделий",
    "Знак обслуживания медицинского учреждения",
    "Товарный знак косметической продукции",
    "Знак обслуживания консалтинговой компании",
    "Товарный знак программного обеспечения",
    "Знак обслуживания туристического агентства",
    "Товарный знак сельскохозяйственной продукции",
    "Знак обслуживания страховой компании",
    "Товарный знак спортивных товаров",
    "Знак обслуживания рекламного агентства",
    "Товарный знак бытовой техники",
    "Знак обслуживания IT-компании",
    "Товарный знак мебельной продукции",
    "Знак обслуживания юридической фирмы",
    "Товарный знак напитков",
    "Знак обслуживания кадрового агентства",
    "Товарный знак канцелярских товаров",
    "Знак обслуживания охранного предприятия"
  ],
  copyrights: [
    "Программа для ЭВМ: система управления данными",
    "База данных: реестр технической документации",
    "Программа для ЭВМ: модуль аналитической обработки",
    "Литературное произведение: техническое руководство",
    "Программа для ЭВМ: платформа автоматизации",
    "База данных: каталог производственных процессов",
    "Программа для ЭВМ: система мониторинга",
    "Аудиовизуальное произведение: обучающий курс",
    "Программа для ЭВМ: модуль интеграции",
    "База данных: справочник нормативов",
    "Программа для ЭВМ: система отчётности",
    "Литературное произведение: методическое пособие",
    "Программа для ЭВМ: модуль визуализации",
    "База данных: архив проектной документации",
    "Программа для ЭВМ: система планирования",
    "Аудиовизуальное произведение: презентационные материалы",
    "Программа для ЭВМ: модуль безопасности",
    "База данных: реестр оборудования",
    "Программа для ЭВМ: система тестирования",
    "Литературное произведение: технический регламент"
  ],
  digital_twins: [
    "Цифровой двойник производственной линии",
    "Виртуальная модель промышленного объекта",
    "Цифровой двойник энергетической установки",
    "Виртуальная модель транспортной системы",
    "Цифровой двойник технологического комплекса",
    "Виртуальная модель складского хозяйства",
    "Цифровой двойник инженерных сетей",
    "Виртуальная модель производственного цеха",
    "Цифровой двойник логистического центра",
    "Виртуальная модель системы электроснабжения",
    "Цифровой двойник насосной станции",
    "Виртуальная модель очистных сооружений",
    "Цифровой двойник конвейерной системы",
    "Виртуальная модель климатической установки",
    "Цифровой двойник автоматизированного склада",
    "Виртуальная модель диспетчерского центра",
    "Цифровой двойник испытательного стенда",
    "Виртуальная модель технологического участка",
    "Цифровой двойник системы вентиляции",
    "Виртуальная модель производственного комплекса"
  ],
  rnd_prototypes: [
    "Прототип системы автоматизированного управления",
    "Экспериментальная установка обработки материалов",
    "Прототип устройства мониторинга параметров",
    "Лабораторный образец измерительного комплекса",
    "Прототип системы беспроводной передачи",
    "Экспериментальная модель энергоустановки",
    "Прототип модуля обработки сигналов",
    "Лабораторный образец сенсорной системы",
    "Прототип устройства автоматической калибровки",
    "Экспериментальная установка синтеза",
    "Прототип системы технического зрения",
    "Лабораторный образец робототехнического комплекса",
    "Прототип модуля навигации",
    "Экспериментальная модель накопителя энергии",
    "Прототип устройства дистанционного управления",
    "Лабораторный образец системы фильтрации",
    "Прототип модуля связи",
    "Экспериментальная установка термообработки",
    "Прототип системы позиционирования",
    "Лабораторный образец диагностического комплекса"
  ]
};

// Description templates by category - registry style, no markdown, no marketing
const descriptionTemplates: Record<string, {
  purpose: string[];
  architecture: string[];
  application: string[];
}> = {
  technological_packages: {
    purpose: [
      "Технологический пакет предназначен для комплексной автоматизации производственных процессов, обеспечения непрерывного контроля параметров и оптимизации использования ресурсов на промышленных предприятиях.",
      "Комплекс технических решений обеспечивает централизованное управление технологическими процессами, интеграцию разнородных систем и автоматизацию операционной деятельности.",
      "Технологический пакет реализует функции мониторинга, управления и оптимизации производственных циклов с возможностью масштабирования под требования предприятия."
    ],
    architecture: [
      "Архитектура включает модули сбора данных, обработки информации, управления исполнительными механизмами и формирования отчётности. Поддерживается интеграция с существующими системами через стандартные протоколы.",
      "Структура комплекса построена на модульном принципе с разделением на уровни сбора данных, бизнес-логики и представления. Предусмотрены механизмы резервирования и отказоустойчивости.",
      "Технологическая архитектура реализует многоуровневую систему обработки данных с централизованным хранилищем и распределёнными модулями управления."
    ],
    application: [
      "Применяется на предприятиях машиностроения, химической промышленности, энергетики и других отраслей с непрерывными или дискретными производственными процессами.",
      "Область применения охватывает промышленные предприятия, логистические центры, объекты инфраструктуры и организации с высокими требованиями к автоматизации.",
      "Предназначен для использования в производственных компаниях, на объектах добывающей отрасли и предприятиях с распределённой инфраструктурой."
    ]
  },
  ai_models: {
    purpose: [
      "Модель машинного обучения предназначена для автоматизированного анализа данных, выявления закономерностей и формирования прогнозов на основе исторической информации.",
      "Алгоритм обеспечивает обработку структурированных и неструктурированных данных с применением методов машинного обучения для решения задач классификации и регрессии.",
      "Нейросетевая архитектура реализует функции распознавания, классификации и прогнозирования с возможностью дообучения на новых данных."
    ],
    architecture: [
      "Архитектура модели включает слои предобработки данных, признаковое представление, обучаемые параметры и модуль инференса. Поддерживается развёртывание в контейнерной среде.",
      "Структура алгоритма построена на основе многослойной нейронной сети с механизмами внимания и регуляризации. Предусмотрена возможность инкрементального обучения.",
      "Модель реализует конвейер обработки данных с этапами нормализации, извлечения признаков и применения обученных весов для формирования предсказаний."
    ],
    application: [
      "Применяется в системах поддержки принятия решений, аналитических платформах, системах контроля качества и прогнозирования показателей.",
      "Область применения включает финансовый анализ, промышленную диагностику, медицинскую аналитику и задачи оптимизации бизнес-процессов.",
      "Предназначена для интеграции в корпоративные системы аналитики, платформы обработки данных и специализированные отраслевые решения."
    ]
  },
  software_and_code: {
    purpose: [
      "Программный комплекс предназначен для автоматизации бизнес-процессов предприятия, обеспечения учёта операций и формирования управленческой отчётности.",
      "Система обеспечивает централизованное управление данными, автоматизацию документооборота и интеграцию с внешними информационными системами.",
      "Программное решение реализует функции учёта, планирования и контроля с поддержкой многопользовательского доступа и разграничения прав."
    ],
    architecture: [
      "Архитектура системы построена на клиент-серверной модели с трёхуровневой структурой: уровень представления, бизнес-логики и доступа к данным. Поддерживается горизонтальное масштабирование.",
      "Программный комплекс реализует модульную архитектуру с возможностью подключения дополнительных функциональных блоков. Предусмотрен API для интеграции с внешними системами.",
      "Структура решения включает ядро системы, модули расширения и слой интеграции. Поддерживаются стандартные протоколы обмена данными."
    ],
    application: [
      "Применяется в организациях различных отраслей для автоматизации учётных функций, управления ресурсами и обеспечения информационного взаимодействия.",
      "Область применения охватывает коммерческие предприятия, государственные учреждения и организации с потребностью в автоматизации операционной деятельности.",
      "Предназначено для использования в компаниях среднего и крупного бизнеса, холдинговых структурах и территориально распределённых организациях."
    ]
  },
  datasets: {
    purpose: [
      "Набор данных предназначен для обучения и валидации моделей машинного обучения, проведения статистического анализа и исследовательской работы.",
      "Структурированная выборка обеспечивает репрезентативное представление предметной области для задач моделирования и прогнозирования.",
      "Датасет сформирован для использования в задачах классификации, регрессии и кластеризации с соблюдением требований к качеству и полноте данных."
    ],
    architecture: [
      "Структура данных включает размеченные записи с атрибутами, метаданные и описание схемы. Предусмотрено разделение на обучающую и тестовую выборки.",
      "Набор данных организован в табличном формате с документированными типами полей и ограничениями целостности. Поддерживается экспорт в стандартные форматы.",
      "Датасет структурирован с учётом требований воспроизводимости экспериментов и содержит информацию о методике сбора и обработки данных."
    ],
    application: [
      "Применяется в исследовательских проектах, при разработке систем машинного обучения и для тестирования алгоритмов обработки данных.",
      "Область применения включает академические исследования, корпоративную аналитику и разработку специализированных предиктивных моделей.",
      "Предназначен для использования специалистами по анализу данных, исследователями и разработчиками систем искусственного интеллекта."
    ]
  },
  patents: {
    purpose: [
      "Техническое решение предназначено для повышения эффективности технологических процессов, снижения ресурсоёмкости и обеспечения качества выпускаемой продукции.",
      "Изобретение обеспечивает решение технической задачи в области автоматизации, контроля или обработки с достижением нового технического результата.",
      "Запатентованный способ направлен на оптимизацию существующих технологий и устранение недостатков известных аналогов."
    ],
    architecture: [
      "Техническое решение включает совокупность признаков, характеризующих устройство или способ, обеспечивающих достижение заявленного технического результата.",
      "Конструкция устройства содержит функциональные элементы, связанные определённым образом для реализации заявленного назначения.",
      "Способ включает последовательность операций и условия их выполнения, обеспечивающие получение требуемого результата."
    ],
    application: [
      "Применяется в промышленном производстве, технологических комплексах и системах автоматизации соответствующей отрасли.",
      "Область применения охватывает предприятия, использующие технологии обработки, контроля или управления в производственных процессах.",
      "Предназначено для внедрения на производственных объектах с целью модернизации технологических процессов."
    ]
  },
  databases: {
    purpose: [
      "База данных предназначена для систематизированного хранения, обработки и предоставления доступа к структурированной информации определённой предметной области.",
      "Информационный ресурс обеспечивает централизованное накопление данных, поддержку актуальности и организацию доступа для уполномоченных пользователей.",
      "База данных реализует функции хранения, поиска и выборки информации с соблюдением требований целостности и непротиворечивости данных."
    ],
    architecture: [
      "Структура базы данных включает связанные таблицы с определёнными отношениями, индексы для оптимизации запросов и механизмы обеспечения целостности.",
      "Архитектура информационного ресурса построена на реляционной модели с нормализованной схемой данных и документированным API доступа.",
      "База данных организована с учётом требований масштабируемости, резервирования и возможности интеграции с внешними системами."
    ],
    application: [
      "Применяется в информационных системах предприятий, аналитических платформах и системах поддержки принятия решений.",
      "Область применения включает корпоративные системы, отраслевые реестры и специализированные информационные ресурсы.",
      "Предназначена для использования в организациях, осуществляющих сбор, обработку и анализ данных соответствующей тематики."
    ]
  },
  know_how: {
    purpose: [
      "Методика предназначена для оптимизации процессов, повышения эффективности деятельности и достижения заданных показателей качества.",
      "Технология обеспечивает реализацию производственных или управленческих процессов с достижением результатов, превосходящих стандартные подходы.",
      "Регламент определяет порядок выполнения операций, требования к ресурсам и критерии оценки результатов деятельности."
    ],
    architecture: [
      "Методика включает описание этапов, применяемых методов, необходимых ресурсов и показателей результативности.",
      "Структура технологии содержит последовательность процедур, условия их применения и параметры контроля качества.",
      "Регламент определяет роли участников, порядок взаимодействия, документационное обеспечение и механизмы контроля."
    ],
    application: [
      "Применяется в организациях, стремящихся к повышению эффективности деятельности и оптимизации использования ресурсов.",
      "Область применения охватывает предприятия соответствующей отрасли с типовыми процессами и задачами оптимизации.",
      "Предназначена для внедрения специалистами, ответственными за развитие и совершенствование процессов организации."
    ]
  },
  technical_specifications: {
    purpose: [
      "Документ определяет технические требования, функциональные характеристики и условия реализации информационной системы или технического решения.",
      "Спецификация устанавливает параметры, ограничения и критерии соответствия для разрабатываемого или внедряемого решения.",
      "Технические требования описывают необходимые характеристики системы, условия эксплуатации и показатели качества."
    ],
    architecture: [
      "Документ структурирован по разделам: общие сведения, функциональные требования, технические характеристики, требования к интеграции и условия приёмки.",
      "Спецификация включает описание архитектуры, интерфейсов взаимодействия, требований к производительности и безопасности.",
      "Структура документа соответствует отраслевым стандартам и включает все необходимые разделы для однозначной интерпретации требований."
    ],
    application: [
      "Применяется при проектировании, разработке и внедрении информационных систем и технических решений.",
      "Область применения включает процессы закупки, разработки и модернизации технических и программных средств.",
      "Предназначена для использования заказчиками, разработчиками и интеграторами при реализации технических проектов."
    ]
  },
  trademarks: {
    purpose: [
      "Товарный знак предназначен для индивидуализации товаров или услуг, обеспечения их узнаваемости и защиты от недобросовестного использования.",
      "Средство индивидуализации обеспечивает идентификацию продукции или услуг правообладателя на соответствующем рынке.",
      "Знак обслуживания используется для обозначения услуг организации и формирования устойчивой ассоциации с их источником."
    ],
    architecture: [
      "Товарный знак представляет собой обозначение, включающее словесные, изобразительные или комбинированные элементы с определённой цветовой гаммой.",
      "Структура знака включает охраняемые элементы, зарегистрированные в отношении определённых классов товаров или услуг по МКТУ.",
      "Обозначение выполнено в соответствии с требованиями различительной способности и не содержит элементов, исключённых из охраны."
    ],
    application: [
      "Применяется для маркировки товаров, оформления упаковки, использования в рекламных материалах и деловой документации.",
      "Область применения охватывает товары и услуги классов, указанных в свидетельстве о регистрации товарного знака.",
      "Предназначен для использования правообладателем или лицензиатами в коммерческой деятельности."
    ]
  },
  copyrights: {
    purpose: [
      "Объект авторского права создан для решения определённых задач в области обработки информации, обучения или творческой деятельности.",
      "Произведение предназначено для использования в информационных системах, образовательных процессах или творческих проектах.",
      "Охраняемый объект обеспечивает реализацию функций, для которых он был создан, с соблюдением исключительных прав автора."
    ],
    architecture: [
      "Структура объекта включает функциональные компоненты, организованные в соответствии с замыслом автора и требованиями предметной области.",
      "Произведение организовано с учётом требований к структуре, содержанию и форме представления информации.",
      "Объект содержит оригинальные элементы, созданные творческим трудом автора и выраженные в объективной форме."
    ],
    application: [
      "Применяется в соответствии с назначением объекта с соблюдением условий использования, установленных правообладателем.",
      "Область применения определяется характером произведения и может включать коммерческое или некоммерческое использование.",
      "Предназначен для использования на условиях лицензии или с согласия правообладателя."
    ]
  },
  digital_twins: {
    purpose: [
      "Цифровой двойник предназначен для виртуального моделирования физического объекта, прогнозирования его поведения и оптимизации режимов эксплуатации.",
      "Виртуальная модель обеспечивает отображение состояния реального объекта в режиме реального времени и проведение сценарного анализа.",
      "Цифровой двойник реализует функции мониторинга, диагностики и прогнозирования для повышения эффективности управления объектом."
    ],
    architecture: [
      "Архитектура включает модель физического объекта, подсистему сбора данных, аналитический модуль и интерфейс визуализации.",
      "Структура цифрового двойника содержит геометрическую модель, параметры поведения, связи с источниками данных и модуль симуляции.",
      "Виртуальная модель построена на основе математического описания процессов с калибровкой по фактическим данным объекта."
    ],
    application: [
      "Применяется для управления промышленными объектами, оптимизации технологических процессов и планирования технического обслуживания.",
      "Область применения включает энергетику, производство, транспорт и другие отрасли с капиталоёмкими техническими объектами.",
      "Предназначен для использования инженерными службами, операторами и управленческим персоналом предприятий."
    ]
  },
  rnd_prototypes: {
    purpose: [
      "Прототип предназначен для экспериментальной проверки технических решений, отработки конструкции и подтверждения заявленных характеристик.",
      "Экспериментальная установка обеспечивает проведение исследований, испытаний и валидацию технологических концепций.",
      "Лабораторный образец создан для демонстрации работоспособности технического решения и определения направлений его развития."
    ],
    architecture: [
      "Конструкция прототипа включает функциональные узлы, системы управления и контроля, реализующие заявленные технические решения.",
      "Структура экспериментальной установки содержит исследуемые компоненты, измерительное оборудование и системы регистрации данных.",
      "Лабораторный образец выполнен с применением доступных технологий и материалов, позволяющих оценить принципиальную работоспособность."
    ],
    application: [
      "Применяется в научно-исследовательской деятельности, опытно-конструкторских работах и при подготовке к серийному производству.",
      "Область применения включает этапы разработки новой продукции, совершенствование существующих технологий и исследовательские проекты.",
      "Предназначен для использования научными и инженерными коллективами в рамках программ развития и инноваций."
    ]
  }
};

// Краткий юридический статус (согласно рамке v3.0: 2 строки максимум)
const legalStatusText = "Ознакомительный объект. Не участвует в сделках.";

// Generate random price within category range
function generateRandomPrice(category: string): number {
  const range = categoryPriceRanges[category];
  const price = Math.floor(Math.random() * (range.max - range.min) + range.min);
  return Math.round(price / 10000) * 10000;
}

// Format price in RUB
function formatPrice(price: number): string {
  return new Intl.NumberFormat('ru-RU', {
    style: 'currency',
    currency: 'RUB',
    maximumFractionDigits: 0
  }).format(price);
}

// Generate random views count
function generateViews(): number {
  return Math.floor(Math.random() * 500) + 50;
}

// Get random item from array
function getRandomItem<T>(arr: T[]): T {
  return arr[Math.floor(Math.random() * arr.length)];
}

// Generate unique title variation
function generateUniqueTitle(baseTitle: string, index: number): string {
  const suffixes = [
    "", " (версия 2.0)", " (модификация)", " (расширенная)", 
    " (базовая)", " (корпоративная)", " (промышленная)",
    " (адаптированная)", " (универсальная)", " (специализированная)"
  ];
  const suffix = index < 10 ? "" : suffixes[index % suffixes.length];
  return baseTitle + suffix;
}

// Generate demo listings
export function generateDemoListings(): DemoListing[] {
  const items: DemoListing[] = [];
  let globalIndex = 1;

  Object.entries(categoryDistribution).forEach(([category, count]) => {
    const titles = titleTemplates[category] || [];
    const descriptions = descriptionTemplates[category] || {
      purpose: ["Объект предназначен для использования в соответствующей области."],
      architecture: ["Структура объекта соответствует требованиям предметной области."],
      application: ["Применяется в организациях соответствующего профиля."]
    };

    for (let i = 0; i < count; i++) {
      const baseTitle = titles[i % titles.length];
      const title = generateUniqueTitle(baseTitle, i);
      const price = generateRandomPrice(category);
      const code = categoryCodes[category];
      const itemNumber = String(i + 1).padStart(4, '0');
      const views = generateViews();
      
      const descData: DemoDescription = {
        purpose: getRandomItem(descriptions.purpose),
        architecture: getRandomItem(descriptions.architecture),
        application: getRandomItem(descriptions.application),
        legal_status: legalStatusText
      };
      
      // Краткое описание для карточки (5-7 строк, простой язык)
      // Формат: назначение объекта в одном предложении
      const flatDescription = `${descData.purpose.split('.')[0]}.`;

      items.push({
        id: `demo-${globalIndex}`,
        category,
        title,
        registration_number: `DEMO-${code}-${itemNumber}`,
        price_rub: price,
        is_demo: true,
        status: "Ознакомительный",
        descriptionData: descData,
        categoryLabel: categoryLabels[category],
        priceFormatted: formatPrice(price),
        views,
        // Legacy fields for compatibility with Listing interface
        name: title,
        description: flatDescription,
        price,
        price_negotiable: false,
        views_count: views,
        favorites_count: 0,
        cart_count: 0,
        demo_label: "Ознакомительный",
        legal_status: "demo_example",
        can_buy: false,
        created_at: new Date().toISOString(),
        user_id: "demo-system"
      });

      globalIndex++;
    }
  });

  return items;
}

// Export singleton instance
export const demoListings = generateDemoListings();

// Export category counts for UI
export const demoCategoryCounts: Record<string, number> = { ...categoryDistribution };

// Export total count
export const totalDemoCount = Object.values(categoryDistribution).reduce((a, b) => a + b, 0);

// Helper to get short description for card display (120-160 chars)
export function getShortDescription(listing: DemoListing): string {
  const purpose = listing.descriptionData.purpose;
  if (purpose.length <= 160) return purpose;
  return purpose.substring(0, 157) + "...";
}

// Get demo listing by ID
export function getDemoListingById(id: string): DemoListing | undefined {
  return demoListings.find(item => item.id === id);
}
